<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FlightLine GI Curriculum | Digital Alexandria</title>

  <meta name="description" content="Digital Alexandria: FlightLine GI Curriculum museum map. Catalog ‚Üí 3√ó3 ‚Üí Wing ‚Üí Exhibit ‚Üí Real Action ‚Üí Log ‚Üí Return. Official learning links only." />
  <meta name="theme-color" content="#0b1020" />

  <style>
    :root{
      --bg0:#070a12; --bg1:#0b1020;
      --panel:#0d1630; --text:#e8edf7; --muted:#9aa7c1;
      --gold:#d4b16a; --ink:#38bdf8;
      --line:rgba(255,255,255,.10);
      --shadow: 0 16px 40px rgba(0,0,0,.45);
      --ok: rgba(56,189,248,.35);
      --warn: rgba(212,177,106,.24);
    }
    *{ box-sizing:border-box; }
    html{ scroll-behavior:smooth; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 700px at 20% 0%, rgba(212,177,106,.10), transparent 58%),
        radial-gradient(900px 600px at 80% 10%, rgba(56,189,248,.08), transparent 62%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      line-height:1.55;
    }
    a{ color: var(--ink); text-decoration:none; }
    a:hover{ text-decoration:underline; }

    .topbar{
      position:sticky; top:0; z-index:50;
      backdrop-filter: blur(12px);
      background: rgba(7,10,18,.72);
      border-bottom: 1px solid var(--line);
    }
    .topbar .inner{
      max-width:1180px; margin:0 auto;
      padding: 12px 18px;
      display:flex; gap:12px; align-items:center; justify-content:space-between;
      flex-wrap:wrap;
    }
    .brand{ display:flex; gap:10px; align-items:center; }
    .seal{
      width:36px; height:36px; border-radius:12px;
      background: linear-gradient(135deg, rgba(212,177,106,.22), rgba(56,189,248,.14));
      border:1px solid var(--line);
      box-shadow: var(--shadow);
      display:grid; place-items:center;
      font-weight:900; letter-spacing:.02em;
      color: var(--gold);
      user-select:none;
    }
    .brand h1{ font-size:1.08rem; margin:0; }
    .brand .sub{ font-size:.84rem; color:var(--muted); margin-top:2px; }

    .toc{ display:flex; flex-wrap:wrap; gap:10px; justify-content:flex-end; }
    .chip{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid var(--line);
      background: rgba(13,22,48,.55);
      color: var(--text);
      font-size:.86rem;
      user-select:none;
    }
    .chip span{ color: var(--gold); font-weight:900; }

    .wrap{ max-width:1180px; margin:0 auto; padding: 26px 18px 90px; }

    .hero{
      border:1px solid var(--line);
      border-radius:20px;
      background: linear-gradient(180deg, rgba(13,22,48,.72), rgba(10,19,41,.56));
      box-shadow: var(--shadow);
      padding: 24px 20px;
    }
    .hero h2{ margin:0 0 10px; font-size:2.0rem; letter-spacing:-.02em; }
    .hero p{ margin: 10px 0; color: var(--muted); }
    .law{
      margin-top: 14px;
      padding: 12px 14px;
      border-radius: 16px;
      background: rgba(212,177,106,.08);
      border: 1px solid rgba(212,177,106,.18);
      color: #f2e7cf;
    }
    .kicker{ display:flex; flex-wrap:wrap; gap:10px; margin-top:14px; }
    .badge{
      border:1px solid var(--line);
      background: rgba(13,22,48,.55);
      padding: 7px 10px;
      border-radius: 999px;
      color: var(--muted);
      font-size:.86rem;
    }

    .divider{ margin: 20px 0 0; border-top: 1px solid var(--line); }

    .hall-title{
      display:flex; align-items:baseline; justify-content:space-between; gap:12px;
      margin: 24px 2px 12px;
      flex-wrap:wrap;
    }
    .hall-title h3{ margin:0; font-size:1.25rem; color: var(--gold); letter-spacing:.02em; }
    .hall-title .note{ color: var(--muted); font-size:.94rem; }

    .ctaRow{ display:flex; flex-wrap:wrap; gap:10px; margin-top: 10px; }
    .cta{
      display:inline-flex; align-items:center; gap:8px;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid var(--ok);
      background: rgba(56,189,248,.08);
      color: var(--text);
      font-weight: 800;
      font-size: .92rem;
      text-decoration:none;
      cursor:pointer;
    }
    .cta:hover{ text-decoration:none; filter: brightness(1.06); }
    .ctaAlt{
      border: 1px solid rgba(212,177,106,.28);
      background: rgba(212,177,106,.08);
      color: #f2e7cf;
    }
    .ctaWarn{
      border: 1px solid var(--warn);
      background: rgba(212,177,106,.06);
      color: #f2e7cf;
    }

    .launcher{
      display:grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 14px;
    }
    @media (max-width: 980px){ .launcher{ grid-template-columns: repeat(2, minmax(0, 1fr)); } }
    @media (max-width: 620px){ .launcher{ grid-template-columns: 1fr; } }

    .stack{
      border:1px solid var(--line);
      border-radius: 20px;
      background: linear-gradient(180deg, rgba(13,22,48,.70), rgba(10,19,41,.55));
      box-shadow: var(--shadow);
      padding: 16px 16px 14px;
      position: relative;
      overflow:hidden;
    }
    .stack:before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(520px 240px at 10% 0%, rgba(212,177,106,.12), transparent 60%),
        radial-gradient(520px 240px at 90% 10%, rgba(56,189,248,.10), transparent 62%);
      pointer-events:none;
    }
    .row{
      position:relative;
      display:flex; gap:12px; align-items:center; justify-content:space-between;
      margin-bottom: 10px;
    }
    .title{ position:relative; display:flex; gap:10px; align-items:center; }
    .title h4{ margin:0; font-size:1.08rem; }
    .tag{
      font-size:.78rem;
      color: rgba(212,177,106,.95);
      font-weight:900;
      letter-spacing:.08em;
      text-transform:uppercase;
    }
    .desc{ position:relative; color: var(--muted); font-size:.92rem; margin: 0 0 10px; }
    .links{ position:relative; display:grid; gap:8px; margin-top: 8px; }
    .lnk{
      display:flex; justify-content:space-between; gap:10px; align-items:center;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      color: var(--text);
      text-decoration:none;
      font-weight:650;
      font-size:.92rem;
    }
    .lnk:hover{ text-decoration:none; filter: brightness(1.06); }
    .lnk small{ color: var(--muted); font-weight:600; }

    .icon{
      width:36px; height:36px; border-radius:14px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.05);
      display:grid; place-items:center;
      font-size:1.05rem;
      user-select:none;
    }

    .panel{
      border:1px solid var(--line);
      border-radius: 20px;
      background: rgba(13,22,48,.62);
      box-shadow: 0 10px 24px rgba(0,0,0,.35);
      padding: 16px 16px 14px;
    }
    .panel h4{ margin: 0 0 6px; }
    .panel p{ margin: 0 0 10px; color: var(--muted); }

    code.inline{
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.09);
      padding: 2px 6px;
      border-radius: 10px;
      color: #d9e6ff;
    }

    footer{
      margin-top: 30px;
      padding-top: 18px;
      color: var(--muted);
      font-size:.9rem;
      border-top: 1px solid var(--line);
    }

    .statusPill{
      display:inline-flex; align-items:center; gap:8px;
      border:1px solid rgba(56,189,248,.22);
      background: rgba(56,189,248,.06);
      border-radius: 999px;
      padding: 8px 10px;
      color: var(--muted);
      font-size:.86rem;
      margin-top: 10px;
    }
    .dot{
      width:8px; height:8px; border-radius:999px;
      background: rgba(56,189,248,.9);
      box-shadow: 0 0 0 4px rgba(56,189,248,.12);
    }

    /* ===========================
       MODAL (FORM OVERLAY)
       =========================== */
    .lockScroll{ overflow:hidden; }

    .modal{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.62);
      backdrop-filter: blur(6px);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 18px;
      z-index: 9998;
    }
    .modal[data-open="true"]{ display:flex; }

    .modalCard{
      width: min(980px, 100%);
      max-height: 92vh;
      overflow: hidden;
      border: 1px solid var(--line);
      border-radius: 20px;
      background: linear-gradient(180deg, rgba(13,22,48,.92), rgba(10,19,41,.88));
      box-shadow: 0 24px 80px rgba(0,0,0,.55);
      display: flex;
      flex-direction: column;
    }

    .modalHead{
      display:flex;
      gap:10px;
      align-items:center;
      justify-content: space-between;
      padding: 12px 14px;
      border-bottom: 1px solid var(--line);
    }
    .modalHead .left{
      display:flex;
      gap:10px;
      align-items:center;
      min-width: 0;
    }
    .modalHead h5{
      margin:0;
      font-size: 1.0rem;
      letter-spacing: .01em;
      color: var(--text);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .modalHead .sub{
      margin:0;
      color: var(--muted);
      font-size: .88rem;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .modalActions{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap: wrap;
      justify-content: flex-end;
    }

    .xbtn{
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.06);
      color: var(--text);
      border-radius: 12px;
      padding: 8px 10px;
      font-weight: 800;
      cursor: pointer;
    }
    .xbtn:hover{ filter: brightness(1.06); }

    .modalBody{
      flex: 1;
      min-height: 420px;
      background: rgba(0,0,0,.18);
    }
    .modalBody iframe{
      width: 100%;
      height: 100%;
      border: 0;
    }

    .modalFoot{
      padding: 10px 14px;
      border-top: 1px solid var(--line);
      color: var(--muted);
      font-size: .86rem;
      display:flex;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: wrap;
    }
  </style>
</head>

<body>
  <div class="topbar">
    <div class="inner">
      <div class="brand">
        <div class="seal">A</div>
        <div>
          <h1>Digital Alexandria</h1>
          <div class="sub">FlightLine GI Curriculum ‚Ä¢ Catalog ‚Üí 3√ó3 ‚Üí Wing ‚Üí Exhibit</div>
        </div>
      </div>

      <nav class="toc" aria-label="Museum Index">
        <a class="chip" href="#catalog"><span>‚Ö†</span> Catalog</a>
        <a class="chip" href="#launcher"><span>‚Ö°</span> 3√ó3</a>
        <a class="chip" href="#log"><span>‚Ö¢</span> Log</a>
        <a class="chip" href="#rules"><span>‚Ö£</span> Rules</a>
      </nav>
    </div>
  </div>

  <div class="wrap">
    <section class="hero" id="catalog">
      <h2>Digital Alexandria ‚Äî FlightLine GI Curriculum</h2>
      <p>
        Study surface = this site. Curator logic = Voiceflow. Voice curator = Jason Summerfall (ElevenLabs).
        Proof = Action Log Form ‚Üí Ledger Sheet.
      </p>

      <div class="law">
        <strong>Prime Law:</strong> Catalog ‚Üí 3√ó3 ‚Üí Wing ‚Üí Exhibit ‚Üí Real Action ‚Üí Log ‚Üí Return.
      </div>

      <div class="kicker">
        <div class="badge">One instruction at a time</div>
        <div class="badge">Do real tasking</div>
        <div class="badge">Log proof</div>
      </div>

      <div class="statusPill">
        <span class="dot" aria-hidden="true"></span>
        <span>Curator ready: open the Voiceflow or Jason bubble to begin.</span>
      </div>

      <div class="ctaRow">
        <a class="cta" href="#launcher">Enter 3√ó3 Gallery ‚Üí</a>
        <button class="cta ctaAlt js-openLog" data-wing="Catalog" data-exhibit="https://taylor7617.github.io/FlightLine-GI-Curriculum/#catalog" type="button">
          Log an Action (Modal) ‚Üí
        </button>
        <a class="cta ctaWarn" id="sheetBtnTop" href="#" target="_blank" rel="noopener">Open Ledger (Sheet) ‚Üí</a>
      </div>
    </section>

    <div class="divider"></div>

    <section id="launcher">
      <div class="hall-title">
        <h3>‚Ö° ‚Ä¢ 3√ó3 App Launcher</h3>
        <div class="note">Choose a wing ‚Üí complete one real action ‚Üí log it.</div>
      </div>

      <div class="launcher">
        <!-- DRIVE -->
        <div class="stack" data-wing="Drive">
          <div class="row">
            <div class="title">
              <div class="icon">üóÇÔ∏è</div>
              <div><div class="tag">LAND</div><h4>Drive</h4></div>
            </div>
            <button class="cta js-openLog" data-wing="Drive" data-exhibit="https://support.google.com/a/users/answer/9282958?p=drive_training&rd=1" type="button">
              Log ‚Üí
            </button>
          </div>
          <p class="desc">Storage, structure, access, shared drives.</p>
          <div class="links">
            <a class="lnk" href="https://support.google.com/a/users/answer/9282958?p=drive_training&rd=1" target="_blank" rel="noopener">Exhibit: Training & Help <small>official</small></a>
            <button class="lnk js-openLog" data-wing="Drive" data-exhibit="https://support.google.com/a/users/answer/9282958?p=drive_training&rd=1" type="button">Log this wing <small>Form</small></button>
          </div>
        </div>

        <!-- GMAIL -->
        <div class="stack" data-wing="Gmail">
          <div class="row">
            <div class="title">
              <div class="icon">‚úâÔ∏è</div>
              <div><div class="tag">SIGNAL</div><h4>Gmail</h4></div>
            </div>
            <button class="cta js-openLog" data-wing="Gmail" data-exhibit="https://support.google.com/a/users/answer/9259748?hl=en" type="button">Log ‚Üí</button>
          </div>
          <p class="desc">Inbox structure, labels, filters, routing.</p>
          <div class="links">
            <a class="lnk" href="https://support.google.com/a/users/answer/9259748?hl=en" target="_blank" rel="noopener">Exhibit: Training & Help <small>official</small></a>
            <button class="lnk js-openLog" data-wing="Gmail" data-exhibit="https://support.google.com/a/users/answer/9259748?hl=en" type="button">Log this wing <small>Form</small></button>
          </div>
        </div>

        <!-- CALENDAR -->
        <div class="stack" data-wing="Calendar">
          <div class="row">
            <div class="title">
              <div class="icon">üìÖ</div>
              <div><div class="tag">TIME</div><h4>Calendar</h4></div>
            </div>
            <button class="cta js-openLog" data-wing="Calendar" data-exhibit="https://support.google.com/a/users/answer/9247501?hl=en" type="button">Log ‚Üí</button>
          </div>
          <p class="desc">Scheduling as infrastructure.</p>
          <div class="links">
            <a class="lnk" href="https://support.google.com/a/users/answer/9247501?hl=en" target="_blank" rel="noopener">Exhibit: Training & Help <small>official</small></a>
            <button class="lnk js-openLog" data-wing="Calendar" data-exhibit="https://support.google.com/a/users/answer/9247501?hl=en" type="button">Log this wing <small>Form</small></button>
          </div>
        </div>

        <!-- DOCS -->
        <div class="stack" data-wing="Docs">
          <div class="row">
            <div class="title">
              <div class="icon">üìÑ</div>
              <div><div class="tag">TEXT</div><h4>Docs</h4></div>
            </div>
            <button class="cta js-openLog" data-wing="Docs" data-exhibit="https://support.google.com/a/users/answer/9282664?hl=en" type="button">Log ‚Üí</button>
          </div>
          <p class="desc">Documents, comments, versions.</p>
          <div class="links">
            <a class="lnk" href="https://support.google.com/a/users/answer/9282664?hl=en" target="_blank" rel="noopener">Exhibit: Training & Help <small>official</small></a>
            <button class="lnk js-openLog" data-wing="Docs" data-exhibit="https://support.google.com/a/users/answer/9282664?hl=en" type="button">Log this wing <small>Form</small></button>
          </div>
        </div>

        <!-- SHEETS -->
        <div class="stack" data-wing="Sheets">
          <div class="row">
            <div class="title">
              <div class="icon">üìä</div>
              <div><div class="tag">DATA</div><h4>Sheets</h4></div>
            </div>
            <button class="cta js-openLog" data-wing="Sheets" data-exhibit="https://support.google.com/a/users/answer/9282959?hl=en" type="button">Log ‚Üí</button>
          </div>
          <p class="desc">Tables, formulas, analysis.</p>
          <div class="links">
            <a class="lnk" href="https://support.google.com/a/users/answer/9282959?hl=en" target="_blank" rel="noopener">Exhibit: Training & Help <small>official</small></a>
            <button class="lnk js-openLog" data-wing="Sheets" data-exhibit="https://support.google.com/a/users/answer/9282959?hl=en" type="button">Log this wing <small>Form</small></button>
          </div>
        </div>

        <!-- SLIDES -->
        <div class="stack" data-wing="Slides">
          <div class="row">
            <div class="title">
              <div class="icon">üñºÔ∏è</div>
              <div><div class="tag">BRIEF</div><h4>Slides</h4></div>
            </div>
            <button class="cta js-openLog" data-wing="Slides" data-exhibit="https://support.google.com/a/users/answer/9282488?hl=en" type="button">Log ‚Üí</button>
          </div>
          <p class="desc">Presentations and briefing craft.</p>
          <div class="links">
            <a class="lnk" href="https://support.google.com/a/users/answer/9282488?hl=en" target="_blank" rel="noopener">Exhibit: Training & Help <small>official</small></a>
            <button class="lnk js-openLog" data-wing="Slides" data-exhibit="https://support.google.com/a/users/answer/9282488?hl=en" type="button">Log this wing <small>Form</small></button>
          </div>
        </div>

        <!-- MEET -->
        <div class="stack" data-wing="Meet">
          <div class="row">
            <div class="title">
              <div class="icon">üé•</div>
              <div><div class="tag">ROOM</div><h4>Meet</h4></div>
            </div>
            <button class="cta js-openLog" data-wing="Meet" data-exhibit="https://support.google.com/a/users/answer/9282720?hl=en" type="button">Log ‚Üí</button>
          </div>
          <p class="desc">Live meetings and controls.</p>
          <div class="links">
            <a class="lnk" href="https://support.google.com/a/users/answer/9282720?hl=en" target="_blank" rel="noopener">Exhibit: Training & Help <small>official</small></a>
            <button class="lnk js-openLog" data-wing="Meet" data-exhibit="https://support.google.com/a/users/answer/9282720?hl=en" type="button">Log this wing <small>Form</small></button>
          </div>
        </div>

        <!-- CHAT -->
        <div class="stack" data-wing="Chat">
          <div class="row">
            <div class="title">
              <div class="icon">üí¨</div>
              <div><div class="tag">SPACE</div><h4>Chat</h4></div>
            </div>
            <button class="cta js-openLog" data-wing="Chat" data-exhibit="https://support.google.com/a/users/answer/9247502?hl=en" type="button">Log ‚Üí</button>
          </div>
          <p class="desc">Spaces, threads, persistent teamwork.</p>
          <div class="links">
            <a class="lnk" href="https://support.google.com/a/users/answer/9247502?hl=en" target="_blank" rel="noopener">Exhibit: Training & Help <small>official</small></a>
            <button class="lnk js-openLog" data-wing="Chat" data-exhibit="https://support.google.com/a/users/answer/9247502?hl=en" type="button">Log this wing <small>Form</small></button>
          </div>
        </div>

        <!-- CONTACTS -->
        <div class="stack" data-wing="Contacts">
          <div class="row">
            <div class="title">
              <div class="icon">üë§</div>
              <div><div class="tag">ROSTER</div><h4>Contacts</h4></div>
            </div>
            <button class="cta js-openLog" data-wing="Contacts" data-exhibit="https://support.google.com/a/users/answer/9282487?hl=en" type="button">Log ‚Üí</button>
          </div>
          <p class="desc">Identity adjacency: contacts, labels, groups.</p>
          <div class="links">
            <a class="lnk" href="https://support.google.com/a/users/answer/9282487?hl=en" target="_blank" rel="noopener">Exhibit: Training & Help <small>official</small></a>
            <a class="lnk" href="https://support.google.com/a/users/answer/9310345?hl=en" target="_blank" rel="noopener">Exhibit: Get started <small>official</small></a>
            <button class="lnk js-openLog" data-wing="Contacts" data-exhibit="https://support.google.com/a/users/answer/9282487?hl=en" type="button">Log this wing <small>Form</small></button>
          </div>
        </div>
      </div>
    </section>

    <div class="divider"></div>

    <section id="log">
      <div class="hall-title">
        <h3>‚Ö¢ ‚Ä¢ Action Log</h3>
        <div class="note">Do one action. Log it in the modal. Return.</div>
      </div>

      <div class="panel">
        <h4>Log your completed task</h4>
        <p>
          This is the flight recorder. Use the modal so you never leave the museum.
        </p>

        <div class="ctaRow">
          <button class="cta js-openLog" data-wing="Action Log" data-exhibit="https://taylor7617.github.io/FlightLine-GI-Curriculum/#log" type="button">
            Open Action Log Modal ‚Üí
          </button>
          <a class="cta ctaAlt" id="openLedgerMid" href="#" target="_blank" rel="noopener">Open Ledger Sheet ‚Üí</a>
          <a class="cta ctaWarn" href="#catalog">Return to Catalog ‚Üí</a>
        </div>

        <p style="margin-top:12px; color:var(--muted);">
          If the embedded form is blocked in a browser, use ‚ÄúOpen in new tab‚Äù inside the modal.
        </p>
      </div>
    </section>

    <div class="divider"></div>

    <section id="rules">
      <div class="panel">
        <h4>Curator Rules (Jason + Voiceflow)</h4>
        <p>
          Give one instruction at a time. Always use: <code class="inline">Catalog ‚Üí 3√ó3 ‚Üí Wing ‚Üí Exhibit</code>.
          Always end: ‚ÄúReturn to Catalog.‚Äù
        </p>
      </div>
    </section>

    <footer>
      <div><strong>Digital Alexandria</strong> ‚Äî FlightLine GI Curriculum Museum Map.</div>
      <div style="margin-top:6px;">Jason (ElevenLabs) = Voice ‚Ä¢ Voiceflow = Logic ‚Ä¢ Form Modal = Proof ‚Ä¢ Sheet = Ledger.</div>
    </footer>
  </div>

  <!-- ===========================
       ACTION LOG MODAL
       =========================== -->
  <div class="modal" id="logModal" aria-hidden="true" data-open="false">
    <div class="modalCard" role="dialog" aria-modal="true" aria-label="FlightLine Action Log">
      <div class="modalHead">
        <div class="left">
          <div class="icon" aria-hidden="true">üßæ</div>
          <div style="min-width:0;">
            <h5>FlightLine Action Log</h5>
            <p class="sub" id="logModalSubtitle">Wing: Unknown</p>
          </div>
        </div>

        <div class="modalActions">
          <a class="cta ctaAlt" id="openFormNewTab" href="#" target="_blank" rel="noopener">Open in new tab ‚Üí</a>
          <button class="xbtn" id="closeModalBtn" type="button">Close ‚úï</button>
        </div>
      </div>

      <div class="modalBody">
        <iframe id="logModalFrame" title="FlightLine Action Log Form" loading="lazy" referrerpolicy="no-referrer"></iframe>
      </div>

      <div class="modalFoot">
        <span>Complete the real action ‚Üí log proof ‚Üí Return to Catalog.</span>
        <span id="modalMeta"></span>
      </div>
    </div>
  </div>

  <!-- =====================================================
       CONFIG ‚Äî UPDATE THESE 3 LINES ONLY
  ====================================================== -->
  <script>
    // 1) Your public form base
    const ACTION_LOG_FORM_VIEW  = "https://docs.google.com/forms/d/e/1FAIpQLSdUukhQdV_zvPGRUKMHE8hRTk2HqWPz5wc3C7Fih2oB-gLHmw/viewform";
    const ACTION_LOG_FORM_EMBED = ACTION_LOG_FORM_VIEW + "?embedded=true";

    // 2) Your ledger sheet
    const LEDGER_SHEET = "https://docs.google.com/spreadsheets/d/1CSN2Gw1VK6izyBt5YrjYpYGqdXRzoLhONQvFifr6aAw/edit?usp=sharing";

    // 3) Prefill Entry IDs (REPLACE after you copy the prefilled link)
    const ENTRY_WING    = "entry.123456789";   // REQUIRED
    const ENTRY_EXHIBIT = "entry.987654321";   // optional (if you created Exhibit URL)
    const ENTRY_NOTE    = "entry.555555555";   // optional (if you created Proof Note)
  </script>

  <!-- =====================================================
       LOG MODAL + PREFILL + EVENT BRIDGE
  ====================================================== -->
  <script>
    // Wire ledger buttons
    document.getElementById("sheetBtnTop").href = LEDGER_SHEET;
    document.getElementById("openLedgerMid").href = LEDGER_SHEET;

    // Build prefill URL for VIEWFORM
    function buildPrefillURL({ wing="Unknown", exhibit="", note="" } = {}) {
      const url = new URL(ACTION_LOG_FORM_VIEW);
      url.searchParams.set("usp", "pp_url");

      // REQUIRED
      url.searchParams.set(ENTRY_WING, wing);

      // OPTIONAL
      if (ENTRY_EXHIBIT && exhibit) url.searchParams.set(ENTRY_EXHIBIT, exhibit);
      if (ENTRY_NOTE && note) url.searchParams.set(ENTRY_NOTE, note);

      return url.toString();
    }

    // Convert a viewform prefill URL ‚Üí embed prefill URL
    function toEmbedURL(prefillViewURL){
      // preserve all query params; just swap the base to embedded=true
      return prefillViewURL.replace(ACTION_LOG_FORM_VIEW, ACTION_LOG_FORM_EMBED);
    }

    // Modal engine
    const modal = document.getElementById("logModal");
    const frame = document.getElementById("logModalFrame");
    const subtitle = document.getElementById("logModalSubtitle");
    const closeBtn = document.getElementById("closeModalBtn");
    const newTabBtn = document.getElementById("openFormNewTab");
    const modalMeta = document.getElementById("modalMeta");

    let lastFocus = null;

    function openLogModal(wing, exhibitURL="") {
      lastFocus = document.activeElement;

      const safeWing = (wing && String(wing).trim()) ? String(wing).trim() : "Unknown";
      const safeEx = (exhibitURL && String(exhibitURL).trim()) ? String(exhibitURL).trim() : "";

      subtitle.textContent = "Wing: " + safeWing;
      modalMeta.textContent = safeEx ? ("Exhibit: " + safeEx) : "";

      const prefill = buildPrefillURL({ wing: safeWing, exhibit: safeEx });
      const embedURL = toEmbedURL(prefill);

      frame.src = embedURL;
      newTabBtn.href = prefill;

      modal.dataset.open = "true";
      modal.setAttribute("aria-hidden", "false");
      document.body.classList.add("lockScroll");
      closeBtn.focus();

      // Fire a custom event (useful for analytics + agents)
      window.dispatchEvent(new CustomEvent("flightline.log.open", {
        detail: { wing: safeWing, exhibit: safeEx, time: Date.now() }
      }));
    }

    function closeLogModal(){
      modal.dataset.open = "false";
      modal.setAttribute("aria-hidden", "true");
      document.body.classList.remove("lockScroll");
      frame.src = "about:blank";
      if (lastFocus && typeof lastFocus.focus === "function") lastFocus.focus();

      window.dispatchEvent(new CustomEvent("flightline.log.close", {
        detail: { time: Date.now() }
      }));
    }

    modal.addEventListener("click", (e) => { if(e.target === modal) closeLogModal(); });
    closeBtn.addEventListener("click", closeLogModal);
    document.addEventListener("keydown", (e) => {
      if(e.key === "Escape" && modal.dataset.open === "true") closeLogModal();
    });

    // Wire all modal triggers
    document.querySelectorAll(".js-openLog").forEach(btn => {
      btn.addEventListener("click", () => openLogModal(btn.dataset.wing || "Unknown", btn.dataset.exhibit || ""));
    });

    // Context for agents
    window.FLIGHTLINE_CONTEXT = {
      doctrine: "Catalog ‚Üí 3√ó3 ‚Üí Wing ‚Üí Exhibit ‚Üí Real Action ‚Üí Log ‚Üí Return",
      actionLogForm: ACTION_LOG_FORM_VIEW,
      ledgerSheet: LEDGER_SHEET
    };
  </script>

  <!-- =====================================================
       VOICEFLOW WIDGET (LOGIC CURATOR)
       Replace projectID if needed
  ====================================================== -->
  <script type="text/javascript">
    (function(d, t) {
        var v = d.createElement(t), s = d.getElementsByTagName(t)[0];
        v.onload = function() {
          window.voiceflow.chat.load({
            verify: { projectID: '693f2081b832da7413583a2a' },
            url: 'https://general-runtime.voiceflow.com',
            versionID: 'production',
            voice: { url: "https://runtime-api.voiceflow.com" }
          });
        }
        v.src = "https://cdn.voiceflow.com/widget-next/bundle.mjs";
        v.type = "text/javascript";
        s.parentNode.insertBefore(v, s);
    })(document, 'script');
  </script>

  <!-- =====================================================
       VOICEFLOW RUNTIME EVENT BRIDGE (web-voice)
       Captures call start/end and prints to console
       Optional: forward to webhook
  ====================================================== -->
  <script>
  (function () {
    const PROJECT_ID = "693f2081b832da7413583a2a";
    const ENVIRONMENT_ID = "production";
    const PLATFORM = "web-voice";

    function emitFlightLineEvent(type, data) {
      const payload = {
        type,
        data,
        time: Date.now(),
        resource: `project-${PROJECT_ID}`
      };
      console.log("[FLIGHTLINE VF EVENT]", payload);

      // OPTIONAL: forward to webhook (Apps Script / Worker / Make)
      // fetch("https://YOUR_WEBHOOK_URL", {
      //   method: "POST",
      //   headers: { "Content-Type": "application/json" },
      //   body: JSON.stringify(payload)
      // });
    }

    // Wait for voiceflow global (widget loads async)
    function attach() {
      if (!window.voiceflow || !window.voiceflow.on) return false;

      window.voiceflow.on("call.start", (event) => {
        emitFlightLineEvent("runtime.call.start", {
          userID: event?.userID || "anonymous",
          projectID: PROJECT_ID,
          environmentID: ENVIRONMENT_ID,
          startTime: Date.now(),
          platform: PLATFORM,
          metadata: {}
        });
      });

      window.voiceflow.on("call.end", (event) => {
        emitFlightLineEvent("runtime.call.end", {
          userID: event?.userID || "anonymous",
          projectID: PROJECT_ID,
          environmentID: ENVIRONMENT_ID,
          startTime: event?.startTime || null,
          endTime: Date.now(),
          endReason: event?.reason || "user_exit",
          platform: PLATFORM,
          metadata: {}
        });
      });

      return true;
    }

    // retry attach for a few seconds
    let tries = 0;
    const timer = setInterval(() => {
      tries++;
      if (attach() || tries > 40) clearInterval(timer);
    }, 250);
  })();
  </script>

  <!-- =====================================================
       ELEVENLABS JASON SUMMERFALL WIDGET (VOICE CURATOR)
===================================================== -->
  <script src="https://elevenlabs.io/convai-widget/index.js" async></script>
  <elevenlabs-convai
    agent-id="agent_9801kcfjrs3ker8bp514dh2ex823"
    style="position: fixed; bottom: 20px; right: 20px; z-index: 9999;">
  </elevenlabs-convai>

</body>
</html>
